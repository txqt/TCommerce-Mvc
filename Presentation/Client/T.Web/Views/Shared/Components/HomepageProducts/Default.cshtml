@model List<HomePageModel>
@if(Model.Count > 0 && Model.FirstOrDefault().ProductList?.Count > 0)
{
    <div class="container featured">
        <ul class="nav nav-pills nav-border-anim nav-big justify-content-center mb-3" role="tablist">
            @foreach(var item in Model)
            {
                <li class="nav-item">
                    <a class="nav-link active" id="products-@item.Title-link" data-toggle="tab" href="#products-@item.Title-tab" role="tab" aria-controls="products-@item.Title-tab" aria-selected="true">@item.Title</a>
                </li>
            }
        </ul>

        @foreach(var homePageModel in Model)
        {
            <div class="tab-content tab-content-carousel">
                <div class="tab-pane p-0 fade show active" id="products-@homePageModel.Title-tab" role="tabpanel" aria-labelledby="products-@homePageModel.Title-link">
                    <div class="owl-carousel owl-full carousel-equal-height carousel-with-shadow" data-toggle="owl"
                         data-owl-options='{
                                            "nav": true,
                                            "dots": true,
                                            "margin": 20,
                                            "loop": false,
                                            "responsive": {
                                                "0": {
                                                    "items":2
                                                },
                                                "600": {
                                                    "items":2
                                                },
                                                "992": {
                                                    "items":3
                                                },
                                                "1200": {
                                                    "items":4
                                                }
                                            }
                                        }'>

                        @if (homePageModel.ProductList?.Count > 0)
                        {
                            foreach(var productBox in homePageModel.ProductList)
                            {
                                @(await Html.PartialAsync("_ProductBox", productBox))
                            }
                        }
                        
                    </div><!-- End .owl-carousel -->
                </div><!-- .End .tab-pane -->
            </div>

            <!-- End .tab-content -->
        }
    </div>

    <!-- End .container -->
    <div class="mb-7 mb-lg-11"></div>

    <!-- End .mb-7 -->
}